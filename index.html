<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=1024, user-scalable=no">

	<title>WebSockets + Akka</title>
	
	<!-- Required stylesheet -->
	<link rel="stylesheet" href="core/deck.core.css">
	
	<!-- Extension CSS files go here. Remove or add as needed. -->
	<link rel="stylesheet" href="extensions/goto/deck.goto.css">
	<link rel="stylesheet" href="extensions/menu/deck.menu.css">
	<link rel="stylesheet" href="extensions/navigation/deck.navigation.css">
	<link rel="stylesheet" href="extensions/status/deck.status.css">
	<link rel="stylesheet" href="extensions/hash/deck.hash.css">
	<link rel="stylesheet" href="extensions/scale/deck.scale.css">

	<!-- Style theme. More available in /themes/style/ or create your own. -->
	<link rel="stylesheet" href="themes/style/web-2.0.css">
	
	<!-- Transition theme. More available in /themes/transition/ or create your own. -->
	<link rel="stylesheet" href="themes/transition/horizontal-slide.css">
	
	<!-- Required Modernizr file -->
	<script src="modernizr.custom.js"></script>

  <!-- SyntaxHighlighter -->
  <script type="text/javascript" src="syntaxhighlighter/scripts/shCore.js"></script>
  <script type="text/javascript" src="syntaxhighlighter/scripts/shBrushJScript.js"></script>
  <script type="text/javascript" src="syntaxhighlighter/scripts/shBrushScala.js"></script>
  <link type="text/css" rel="stylesheet" href="syntaxhighlighter/styles/shCoreDefault.css"/>
  <script type="text/javascript">SyntaxHighlighter.all();</script>
</head>
<body class="deck-container">

<!-- Begin slides. Just make elements with a class of slide. -->

<!-- INTRO -->

<section class="slide">
  <h2>WebSockets + Akka, on Scalatra</h2>
  <br>
  <h3>Yuvi Masory - <a href="https://twitter.com/ymasory">@ymasory</a></h3>
  <h3>Bay Area Scalatra Hackers (BASH)</h3>
  <h3>January 30, 2013</h3>
  <br>
  <br>
  <h3>Slides live at <a href="http://yuvimasory.com/talks">http://yuvimasory.com/talks</a>.</h3>
</section>

<section class="slide">
  <h2>What is this group about?</h2>
  <ul>
    <li><h3 class="slide">Scalatra!</h3></li>
    <li><h3 class="slide">Scalatra + Spray?</h3></li>
    <li><h3 class="slide">Scala Web Development?</h3></li>
    <li><h3 class="slide">What do you think?</h3></li>
  </ul>
</section>

<section class="slide">
  <h2>Is this the last BASH meetup?</h2>
  <ul>
    <li><h3 class="slide">I'm delighted to do the organizing.</h3></li>
    <li><h3 class="slide">But I'm not giving every talk!</h3></li>
    <li>
      <h3 class="slide">Giving talks isn't all that hard.</h3>
      <ul>
        <li class="slide">Step 1: Pick a topic you'd like to learn about.</li>
        <li class="slide">Step 2: Sign up for a talk one month out.</li>
        <li class="slide">Step 3: Learn about the topic when you have time.</li>
        <li class="slide">Step 4: Share your findings!</li>
      </ul>
    </li>
  </ul>
</section>


<section class="slide">
  <h2>Where are we going?</h2>
  <ul>
    <li class="slide"><h2>I. Intro to Scalatra</h2></li>
    <li class="slide"><h2>II. Intro to WebSockets</h2></li>
    <li class="slide"><h2>III. Intro to Akka</h2></li>
    <li class="slide"><h2>IV. Mashup!</h2></li>
  </ul>
</section>

<section class="slide">
  <h2>Warning</h2>
  <ul>
    <li class="slide">
      <h2>This is mostly a "concepts" talk. Very little code will be shown.</h2>
    </li>
    <li class="slide">
      <h2>If you want particulars, ask!</h2>
    </li>
  </ul>
</section>




<!-- Section 1, intro to scalatra -->
<section class="slide">
  <h1>Section I<br>Intro to Scalatra</h1>
</section>

<section class="slide">
  <h2>Hello Scalatra</h2>
  <pre class="brush: scala;">
    import org.scalatra._

    class HelloScalatra extends ScalatraServlet {

      get("/") {
        <html>
          <body>
            <h1>Hello, world!</h1>
          </body>
        </html>
      }
    }
  </pre>
</section>

<section class="slide">
  <h2>Scalatra's philosophy: transparency</h2>
  <ul>
    <li class="slide">No magic!</li>
    <li class="slide">It's elephants all the way down.</li>
    <li class="slide">More a set of libraries than a "framework".</li>
    <li class="slide">Source code is extremely readable.</li>
  </ul>
</section>

<section class="slide">
  <h2>Scalatra's philosophy: unintrusiveness</h2>
  <ul>
    <li class="slide">Absolute minimum of configuration. Did you see hello world?</li>
    <li class="slide">Not "opinionated".</li>
    <li class="slide">No fancy build system.</li>
    <li class="slide">Everything is modifiable via idiomatic Scala.</li>
    <li class="slide">Integrations are all optional, and often independent.</li>
  </ul>
</section>

<section class="slide">
  <h2>Scalatra's philosophy: scalability</h2>
  <ul>
    <li class="slide">High performance out of the box.</li>
    <li class="slide">Stateless by default. Sessions if you want them.</li>
    <li class="slide">Async via Akka.</li>
  </ul>
</section>

<section class="slide">
  <h2>The dark side of Scalatra ... </h2>
  <ul>
    <li class="slide"><h2>Routes parameters are not typed.</h2></li>
    <li class="slide">
      <h2>Core DSL is mutable. (The DSL is a Sinatra port, so go figure.)</h2>
    </li>
    <li class="slide">
      <h2>Servlets</h2>
      <ul>
        <li class="slide">Not as asynchronous as Netty until Servlet 3.5</li>
        <li class="slide">Some people really hate servlet containers. Why?!</li>
        <li class="slide">
          Generally can't penetrate the Servlet API without bring in classes specific to
          your container.
        </li>
        <li class="slide">Not <em>Scala</em> elephants all the way down. (See spray-io.)</li>
      </ul>
    </li>
</section>


<!-- Section 2, intro to websockets -->
<section class="slide">
  <h1>Section II<br>Intro to WebSockets</h1>
</section>

<section class="slide">
  <h2>HTTP history</h2>
  <ul>
    <li class="slide">
      <h2>HTTP/1 is purely request-response.</h2>
    </li>
    <li class="slide">
      <h2>HTTP/1.1 Connection: Keep-Alive.</h2>
    </li>
    <li class="slide">
      <h2>HTTP/2.0 aka SPDY will add multiplexing, prioritization, and full compression.</h2>
    </li>
  </ul>
</section>


<section class="slide">
  <h2>What are WebSockets?</h2>
  <ul>
    <li class="slide">
      <h2>
        WebSocket is a web technology providing full-duplex communications channels
        over a single TCP connection.
      </h2>
    </li>
    <li class="slide">
      <h2>
        WebSockets is an independent TCP/IP protocol not based on HTTP.
      </h2>
    </li>
    <li class="slide">
      <h2>
        Clients can be web browsers or servers.
      </h2>
    </li>
  </ul>
</section>

<section class="slide">
  <h2>Browser support</h2>
  <ul>
    <li class="slide">
      <h2>Firefox >= v6</h2>
    </li>
    <li class="slide">
      <h2>Chrome >= v14</h2>
    </li>
    <li class="slide">
      <h2>Internet Explorer >= v10</h2>
    </li>
    <li class="slide">
      <h2>Opera >= v12.10</h2>
    </li>
    <li class="slide">
      <h2>Yes, web browsers briefly disabled WebSockets last year, but that's over now.</h2>
    </li>
  </ul>
</section>

<section class="slide">
  <h2>HTTP handshake</h2>
  <pre>
    GET /mychat HTTP/1.1
    Host: server.example.com
    Upgrade: websocket
    Connection: Upgrade
    Sec-WebSocket-Key: x3JJHMbDL1EzLkh9GBhXDw==
    Sec-WebSocket-Protocol: chat
    Sec-WebSocket-Version: 13
    Origin: http://example.com
    Server response:
    HTTP/1.1 101 Switching Protocols
    Upgrade: websocket
    Connection: Upgrade
    Sec-WebSocket-Accept: HSmrc0sMlYUkAGmm5OPpG2HaGWk=
    Sec-WebSocket-Protocol: chat
  </pre>
</section>

<section class="slide">
  <h2>Advantages of WebSockets</h2>
  <ul>
    <li class="slide">
      <h2>Communication is over port 80</h2>
    </li>
    <li class="slide">
      <h2>Proxy traversal</h2>
    </li>
    <li class="slide">
      <h2>Full-duplex communication</h2>
      <ul>
        <li class="slide">That includes "browser push" and many other models.</li>
        <li class="slide">
          Between connection & disconnection the parties send arbitrary messages at
          arbitrary times.
        </li>
      </ul>
    </li>
    <li class="slide">
      <h2>
        Reduced latency & overhead, improved scalability, compared to Comet (reverse AJAX).
      </h2>
    </li>
    <li class="slide">
      <h2>Simpler implementation than Comet.</h2>
    </li>
  </ul>
</section>

<section class="slide">
  <h2>Disadvantages of WebSockets</h2>
  <ul>
    <li class="slide">
      <h2>Client support isn't all there.</h2>
    </li>
    <li class="slide">
      <h2>May encourage stateful design.</h2>
    </li>
  </ul>
</section>



<!-- Section 3, intro to akka -->
<section class="slide">
  <h1>Section III<br>Intro to Akka</h1>
</section>



<!-- Section 4, mashup -->
<section class="slide">
  <h1>Section IV<br>Mashup!</h1>
</section>


































<!-- End slides. -->


<!-- Begin extension snippets. Add or remove as needed. -->

<!-- deck.navigation snippet -->
<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<!-- deck.status snippet -->
<p class="deck-status">
	<span class="deck-status-current"></span>
	/
	<span class="deck-status-total"></span>
</p>

<!-- deck.goto snippet -->
<form action="." method="get" class="goto-form">
	<label for="goto-slide">Go to slide:</label>
	<input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
	<datalist id="goto-datalist"></datalist>
	<input type="submit" value="Go">
</form>

<!-- deck.hash snippet -->
<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<!-- End extension snippets. -->


<!-- Required JS files. -->
<script src="jquery-1.7.2.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="core/deck.core.js"></script>
<script src="extensions/hash/deck.hash.js"></script>
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
	$(function() {
		$.deck('.slide');
	});
</script>
</body>
</html>
